<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Neurohackademy 2018: Image processing with scikit-image</title>

	<meta name="description" content="A tutorial on image processing and computer vision with scikit-image">
	<meta name="author" content="Michael Beyeler">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/moon.css" id="theme">

	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
	var link = document.createElement( 'link' );
	link.rel = 'stylesheet';
	link.type = 'text/css';
	link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
	document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>

	<style>

	i {
		color: #F52F57;
	}

	b {
		color: #F52F57;
	}

	code {
		color: #F7B267;
	}

	strong {
		color: #F52F57;
	}

	iframe {
		background-color: white;
	}

	</style>

	<!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
</head>

<body>
	<div class="reveal">
		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">

			<section  id="title">
				<h3>Image processing and computer vision <br>with scikit-image</h3>
				<h4>Neurohackademy 2018</h4>
				<p>
					<small>
						<a href="https://github.com/mbeyeler">Michael Beyeler</a> / <a href="http://twitter.com/mbeyelerCH">@mbeyelerCH</a> <br/>
						Postdoctoral Fellow <br/>
						eScience Institute<br/>
						Institute for Neuroengineering (UWIN) 
					</small>
				</p>
				<p>
					<large>
						<a href="http://mbeyeler.github.io/2018-neurohack-skimage">mbeyeler.github.io/2018-neurohack-skimage</a>
					</large>
				</p>
			</section>

			<section id="agenda">
				<h3>Today's Agenda</h3>

				<table>
					<tbody>
						<tr>
							<td><code><a href="#/intro">1</a></code></td>
							<td>Introduction</td>
						</tr>
						<tr>
							<td><code><a href="#/skimage">2</a></code></td>
							<td>The <i>scikit-image</i> toolkit <br/>
								<small>How are images represented in scientific computing?</small>
							</td>
						</tr>
						<tr>
							<td><code><a href="#/feature">3</a></code></td>
							<td>Feature extraction <br/>
								<small>How can we extract useful features from an image?</small>
							</td>
						</tr>
						<tr>
							<td><code><a href="#/segmentation">4</a></code></td>
							<td>Image segmentation <br/>
								<small>How can we segment an MRI image into different sections?</small>
							</td>
						</tr>
<!-- 						<tr>
							<td><code><a href="#/registration">5</a></code></td>
							<td>Image registration <br/>
								<small>How do we register images of brains?</small>
							</td>
						</tr>
 -->					</tbody>
				</table>
			</section>

			<section id="intro">
				<section>
					<h3>What is computer vision?</h3>
					<p class="fragment">An interdisciplinary field that deals with gaining high-level understanding from digital images or videos.</p>
					<p class="fragment">Computer vision tasks include methods for <i>acquiring</i>, <i>processing</i>, and <i>analyzing</i> digital images.</p>
				</section>
				<section>
					<h3> Image processing vs Computer vision</h3>
					<div style="float:right; width:40%">
						<img src="img/cv-vs-ip.jpg" style="width:100%"/>
					</div>
					<div style="float:left; width:60%">
						<ul style="float:left; vertical-align: center">
							<li>Image processing:
								<ul>
									<li> <i>[IMG IN] &rArr; [IMG OUT]</i></li>
									<li> filtering, denoising, etc.</li>
								</ul>
							</li>
							<li class="fragment">Computer vision:
								<ul>
									<li> <i>[IMG IN] &rArr; [DESC OUT]</i></li>
									<li> feature extraction, segmentation, recognition, etc.</li>
								</ul>
							</li>
						</ul>
					</div>
				</section>
				<section>
					<h3>What is image data?</h3>

					<p class="fragment">For our purposes: multi-dimensional homogeneous data in which <i>spatial relationships</i> matter</p>
					<p class="fragment">- spatial contiguity is meaningful</p>
					<p class="fragment">- usually 3D images or 2D projections</p>
				</section>				
			</section>

			<section id="examples">
				<section>
					<h3>Examples</h3>
					<p>Give some useful neuroimaging examples... denoising/detrending, segmentation, registration, 3D model estimation, maybe Ariel's U network</p>
				</section>
				<section data-background-iframe="https://roygbiv.mindboggle.info/roygbiv/web/index.html" data-background-interactive>
				</section>
			</section>

			<section id="skimage">
				<section>
					<img src="img/skimage-logo.png">

					<p><i>scikit-image</i> is a collection of Python algorithms for image processing, developed by the SciPy community.</p>

					<p class="fragment">Installation via conda:</p>
					<pre class="fragment"><code>$ conda install scikit-image</code></pre>

					<p class="fragment">More info at <a href="http://scikit-image.org">http://scikit-image.org</a>.</p>
				</section>

				<section>
					<img src="img/skimage-overview.jpg" style="width:90%">
				</section>

				<section>
					<h3>API reference</h3>
					<p>The main package of <code>skimage</code> only provides some utility functions - everything else is in submodules:</p>
					<table>
						<thead>
							<tr>
								<th>Submodule</th>
								<th>Description</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td><code>data</code></td>
								<td>test images and example data</td>
							</tr>
							<tr>
								<td><code>io</code></td>
								<td>reading, saving, displaying images and videos</td>
							</tr>
							<tr>
								<td><code>color</code></td>
								<td>color space conversion</td>
							</tr>
							<tr>
								<td><code>filters</code></td>
								<td>sharpening, edge finding, rank filters, thresholding</td>
							</tr>
						</tbody>
					</table>
				</section>

				<section>
					<h3>API reference</h3>
					<table>
						<thead>
							<tr>
								<th>Submodule</th>
								<th>Description</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td><code>measure</code></td>
								<td>measuring image properties (e.g., similarity, contours)</td>
							</tr>
							<tr>
								<td><code>feature</code></td>
								<td>feature detection and extraction</td>
							</tr>
							<tr>
								<td><code>restoration</code></td>
								<td>restoration algorithms (e.g., deconvolution denoising)</td>
							</tr>
							<tr>
								<td><code>segmentation</code></td>
								<td>partitioning an image into multiple regions</td>
							</tr>
						</tbody>
					</table>
				</section>
			</section>

			<section>
				<section>
					<h3>Images are NumPy arrays</h3>
					<div style="float: right; width: 40%">
						<img src="img/np-image.jpg">
					</div>
					<div style="float: left; width: 60%">
						<p>Pixels are array elements:</p>
						<pre><code>
 import numpy as np
 image = np.ones((5, 5))
 image[0, 0] = 0
 image[2, :] = 0
						</code></pre>

						<small>
							Values 0 - 255: 0 is black, 255 is white (<code>uint8</code>) <br/>
							Values 0.0 - 1.0: 0.0 is black, 1.0 is white (<code>float64</code>)
						</small>
					</div>
				</section>

				<section>
					<h3>Image I/O</h3>

					<pre><code>
from skimage import io
img_rgb = io.imread(path_to_rgb_file)
img_gray = io.imread(path_to_rgb_file, as_grey=True)
					</code></pre>

					<pre><code>
img = np.random.rand((500, 500))
io.imsave("noise.jpg", img)
					</code></pre>

					<small>Note: Since <i>scikit-image</i> operates on NumPy array, any image reader library that provides arrays will do (e.g., <i>imageio</i>, <i>matplotlib</i>, <i>pillow</i>).</small>
				</section>

				<section>
					<h3>Drawing</h3>

					<p>It's easy to draw on images, too.</p>
					<table>
						<tbody>
							<tr>
								<td> <small><code>skimage.draw.line</code></small> </td>
								<td> <small>Generate line pixel coordinates</small> </td>
							</tr>
							<tr>
								<td> <small><code>skimage.draw.circle</code></small> </td>
								<td> <small>Generate coordinates of pixels within a circle</small> </td>
							</tr>
							<tr>
								<td> <small><code>skimage.draw.polygon</code></small> </td>
								<td> <small>Generate coordinates of pixels within a polygon</small> </td>
							</tr>
							<tr>
								<td> <small><code>skimage.draw.random_shapes</code></small> </td>
								<td> <small>Generate an image with random shapes, labeled with bounding boxes</small> </td>
							</tr>
						</tbody>
					</table>
				</section>



				<section>
					<h3>Tutorial 1: Image manipulation</h3>

					<p><a href="https://github.com/mbeyeler/2018-neurohack-skimage/blob/master/tutorials/1-skimage_intro.ipynb">/tutorials/1-skimage_intro.ipynb</a></p>
				</section>
			</section>

			<section id="filters">
				<section>
					<h3>Image filters</h3>
					<p>One of the most basic and common image operations - used to remove noise or enhance features.</p>
					<table>
						<tbody>
							<tr>
								<td> <small><code>skimage.filters.gaussian</code></small> </td>
								<td> <small>Multi-dimensional Gaussian filter</small> </td>
							</tr>
							<tr>
								<td> <small><code>skimage.filters.sobel</code></small> </td>
								<td> <small>Find the edge magnitude using the Sobel transform</small> </td>
							</tr>
							<tr>
								<td> <small><code>skimage.filters.median</code></small> </td>
								<td> <small>Return local median of an image</small> </td>
							</tr>
							<tr>
								<td> <small><code>skimage.filters.gabor</code></small> </td>
								<td> <small>Returns real and imaginary responses to Gabor filter</small> </td>
							</tr>
						</tbody>
					</table>
				</section>

				<section>
					<h3> Gaussian filter </h3>

					<div style="float: right; width: 20%">
						<img src="img/gaussian-blur.jpg">
					</div>
					<div style="float: left; width: 80%">
						<small>Used to smooth images </small>
						<small>Similar to mean filter, but doesn't weight all values in the neighborhood equally (pixels closer to the center are weighted more).</small>
						<small>The standard deviation <i>sigma</i> defines the size of the neighborhood.</small>

						<pre><code>
from skimage import data, filters
img = data.camera()
img_blurred = filters.gaussian_filter(img, sigma=5)
						</code></pre>
					</div>
				</section>

				<section>
					<h3>Sobel filter</h3>
				</section>
			</section>

			<section id="feature">
				<h3>Feature detection</h3>

			</section>
			
			<section id="segmentation">
				<section>
					<h3>Image segmentation</h3>
					<p class="fragment"><i>Supervised</i>: some prior knowledge is used to guide the algorithm.</p>
					<p class="fragment"><i>Unsupervised</i>: no prior knowledge given.</p>
				</section>

				<section>
					<h3>Supervised segmentation</h3>
					<ul>
						<li> <pre><code>skimage.segmentation.random_walker</code></pre> </li>
						<li> <pre><code>skimage.segmentation.active_contour</code></pre> </li>
						<li> <pre><code>skimage.segmentation.watershed</code></pre> </li>
					</ul>
				</section>

				<section>
					<h3>Supervised segmentation</h3>
					<ul>
						<li> <pre><code>skimage.segmentation.slic</code></pre> </li>
						<li> <pre><code>skimage.segmentation.chan_vese</code></pre> </li>
						<li> <pre><code>skimage.segmentation.felzenszwalb</code></pre> </li>
						<li> <pre><code>skimage.segmentation.quickshift</code></pre> </li>
					</ul>
				</section>
			</section>

			<section id="resources">
				<ul>
					<li>Official website: <a href="http://scikit-image.org">http://scikit-image.org</a></li>
					<li>Tutorials: <a href="https://github.com/scikit-image/skimage-tutorials">https://github.com/scikit-image/skimage-tutorials</a></li>
				</ul>
			</section>

			<section id="questions">
				<h3>Questions?</h3>
			</section>
		</div>
	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// More info https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			controls: true,
			progress: true,
			history: true,
			center: true,

			transition: 'slide', // none/fade/slide/convex/concave/zoom

			// More info https://github.com/hakimel/reveal.js#dependencies
			dependencies: [
			{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
			{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
			{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
			{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
			{ src: 'plugin/zoom-js/zoom.js', async: true },
			{ src: 'plugin/notes/notes.js', async: true }
			]
		});
		</script>

</body>
</html>